<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>회원가입</title>
    <script>
        function validateForm() {
            // 비밀번호 및 재확인 체크
            var password = document.getElementById('password').value;
            var confirmPassword = document.getElementById('confirm_password').value;
            var passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,}$/;

            if (password !== confirmPassword) {
                alert("비밀번호가 일치하지 않습니다.");
                return false;
            }

            if (!passwordRegex.test(password)) {
                alert("비밀번호는 최소 8자, 대문자, 소문자, 숫자, 특수문자를 포함해야 합니다.");
                return false;
            }

            // 체크박스(취미) 최소 2개 이상 선택 여부 확인
            var hobbies = document.querySelectorAll('input[name="hobbies[]"]:checked');
            if (hobbies.length < 2) {
                alert("취미를 최소 2개 이상 선택해주세요.");
                return false;
            }

            return true;
        }
    </script>
</head>
<body>

<h2>회원가입 폼</h2>
<form method="POST" action="assignment.php" enctype="multipart/form-data" onsubmit="return validateForm();">
    <label for="username">아이디:</label>
    <input type="text" id="username" name="username" required><br><br>

    <label for="password">비밀번호:</label>
    <input type="password" id="password" name="password" required><br><br>

    <label for="confirm_password">비밀번호 재확인:</label>
    <input type="password" id="confirm_password" name="confirm_password" required><br><br>

    <label for="bio">자기소개 (최대 200자):</label><br>
    <textarea id="bio" name="bio" maxlength="200" rows="4" cols="50"></textarea><br><br>

    <label for="photo">프로필 사진(JPG, PNG, GIF, 최대 2MB)</label>
    <input type="file" id="photo" name="photo" accept=".jpg, .jpeg, .png, .gif" required><br><br>

    <label>성별:</label>
    <input type="radio" id="male" name="gender" value="남성" required> 남성
    <input type="radio" id="female" name="gender" value="여성" required> 여성<br><br>

    <h3>취미 선택 (최소 2개)</h3>
    <input type="checkbox" name="hobbies[]" value="운동"> 운동<br>
    <input type="checkbox" name="hobbies[]" value="독서"> 독서<br>
    <input type="checkbox" name="hobbies[]" value="여행"> 여행<br>
    <input type="checkbox" name="hobbies[]" value="음악"> 음악 <br><br>

    <input type="submit" value="가입하기">
</form>

</body>
</html>
